<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>AJAX 방식 with vanilla JS</title>
		<script>
			// 로딩버튼을 누르면 서버에 있는 hello.txt 파일을 비동기 통신방식으로 가져와서
			// div영역에 그 내용을 출력하자
			function txtLoad() {
				let xhttp = new XMLHttpRequest(); // XHR 객체 (ajax 객체) 생성
				if (xhttp != null) {
					xhttp.onreadystatechange = function () {
						if (this.readyState == 4 && this.status == 200) {
							// 통신이 성공(완료)되었다면
							document.getElementById('output').innerHTML = this.responseText;
						}
					};
				} else {
					alert('브라우져가 비동기 통신을 지원하지 않습니다.');
				}
				xhttp.open('get', 'http://goott351.cafe24.com/cho/hello.txt'); // 요청
				xhttp.send(); // 요청을 전송 => 통신을 시작
			}
		</script>
	</head>
	<body>
		<input type="button" value="로딩" onclick="txtLoad()" />
		<div id="output"></div>
	</body>
</html>
